# Simple Docker
## Contents
[Part 1. Готовый докер](#part-1-готовый-докер) \
[Part 2. Операции с контейнером](#part-2-операции-с-контейнером) \
[Part 3. Мини веб-сервер](#part-3-мини-веб-сервер) \
[Part 4. Свой докер](#part-4-свой-докер) \
[Part 5. Тестирование](#part-5-тестирование) \
[Part 6. Базовый Docker Compose](#part-6-базовый-docker-compose)

## Part 1. Готовый докер
* скачиваем официальный докер образ с nginx при помощи команды `docker pull nginx`
![docker pull](./images/1.png "скачка образа nginx")
* Проверить наличие докер образа через `docker images`
![docker images](./images/2.png "проверка образа nginx")
* Запустить докер образ через `docker run -d [image_id|repository]`
![docker run](./images/3.png "запуск образа nginx")
* Проверить, что образ запустился через `docker ps`
![docker ps](./images/4.png "проверка контейнера nginx")
* Посмотреть информацию о контейнере через `docker inspect [container_id|container_name]`
![docker inspect](./images/5.png "инфо о контейнере nginx")
* По выводу команды определить и поместить в отчёт размер контейнера, список замапленных портов и ip контейнера
![ip, port](./images/6.png "ip, port контейнера")
* Остановить докер образ через `docker stop [container_id|container_name]`
![docker stop](./images/7.png "остановка контейнера")
* Проверить, что образ остановился через `docker ps`
![проверка](./images/8.png "проверка остановлен ли контейнер")
* Запустить докер с замапленными портами 80 и 443 на локальную машину через команду `run`
![ports 80 & 443](./images/9.png "ппроброс портов 80 и 443")
* Проверить, что в браузере по адресу *localhost:80* доступна стартовая страница **nginx**
![localhost:80](./images/10.png "localhost:80")
* Перезапустить докер контейнер через `docker restart [container_id|container_name]`
* Проверить любым способом, что контейнер запустился
![restart](./images/11.png "перезагрузка контейнера")

## Part 2. Операции с контейнером 
* Прочитать конфигурационный файл *nginx.conf* внутри докер контейнера через команду *exec*
![nginx.conf](./images/12.png "прочитать nginx.conf внутри контейнера")
* Создать на локальной машине файл *nginx.conf*
* Настроить в нем по пути */status* отдачу страницы статуса сервера **nginx** <br>
![/status](./images/13.png "настройка страницы статуса")
* Скопировать созданный файл *nginx.conf* внутрь докер образа через команду `docker cp`
* Перезапустить **nginx** внутри докер образа через команду *exec*
![перезагрузка](./images/14.png "перезагрузка")
* Проверить, что по адресу *localhost:80/status* отдается страничка со статусом сервера **nginx**
![проверка](./images/15.png "проверка")
* Экспортировать контейнер в файл *container.tar* через команду *export*
![export](./images/16.png "export")
* Остановить контейнер
![stop](./images/17.png "остановка контейнера")
* Удалить образ через `docker rmi [image_id|repository]`, не удаляя перед этим контейнеры
![удаление образа](./images/18.png "удаление образа")
* Удалить остановленный контейнер
![удаление контейнера](./images/19.png "удаление контейнера")
* Импортировать контейнер обратно через команду *import*
![import](./images/20.png "import")
* Запустить импортированный контейнер
![run](./images/21.png "run")
* Проверить, что по адресу *localhost:80/status* отдается страничка со статусом сервера **nginx**
![вывод статуса](./images/22.png "вывод статуса")

## Part 3. Мини веб-сервер
* Запустите скрипт `start_server.sh` из папки /src/server
* В браузере перейти по ссылке `localhost:81`

## Part 4. Свой докер
* Запустите скрипт `start_server.sh` из папки /src/part_4
* В браузере перейти по ссылке `localhost:80` и `localhost:80/status`

## Part 5. Тестирование
* Результат выполненной работы находится в папке `src/part_4`
* Вместо `dockle` был использован `scan`, который выполняет такую же функцию по поиску уязвимостей образов
![тестирование](./images/23.png "тестирование")

## Part 6. Базовый **Docker Compose**
* Запустите скрипт `start_server_compose.sh` из папки /src/part_6
* В браузере перейти по ссылке `localhost:80`

